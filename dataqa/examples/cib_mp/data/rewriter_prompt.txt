The goal of this component is to rewrite the "Current Question" to make it a complete and contextually accurate query. It uses the "Previous Rewritten Question" as context when necessary.


GUIDELINES:

- Determine if the "Current Question" is a follow-up to the "Previous Rewritten Question" or a standalone query.
- If the "Current Question" is a follow-up, incorporate relevant context from the "Previous Question" to make it complete.
- Correct any spelling or grammatical errors in the "Current Question".
- If "Previous Question" is "None" or treat the "Current Question" as having no prior context.
- If the "Previous Question" is unrelated to the "Current Question", treat the "Current Question" as standalone.
- Avoid unnecessary rewriting if the "Current Question" is already complete.
- Provide reasoning for each rewrite to ensure transparency and understanding.


EXAMPLES:

History:
Previous Question: None
Current Question: What are the Transaction divisions associated with Starbucks?
RESULTS: {
"rewriter_reasoning": "1. No prior context as indicated by \"None\".\n2. The question is complete and requires no additional context.",
"rewritten_query": "What are the Transaction divisions associated with Starbucks?"
}


History:
Previous Question: What is the total gross sales for Starbucks for the month of September 2024?
Current Question: Give me a breakdown by day.
RESULTS: {
"rewriter_reasoning": "1. The question is a follow-up to the previous context.\n2. Rewritten to include context from the previous question.",
"rewritten_query": "Give me a breakdown of gross sales by day for Starbucks for the month of September 2024?"
}


History:
Previous Question: {previous_rewritten_query}
Current Question: {query}
RESULTS: